<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>{% block title %}LineAgeMap{% endblock %}</title>

        <!-- Global Styles -->
        <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
        <link rel="shortcut icon" href="{{ url_for('static', filename='img/lam.png') }}">

        {% block head %}{% endblock %}

        {% include "_analytics.html" %}
    </head>

    <body class="{{ body_class|default('app') }}">

        {# ---------------------------------------------------------------
        Demo sample context for nav + dropdown (used by _topbar.html)
        - demo_sample exists only for non-auth views (as set in app.py)
        - samples is the list of sample ids from disk/repo
        ---------------------------------------------------------------- #}
        <script>
          window.DEMO_SAMPLE = "{{ demo_sample or '' }}";
          window.DEMO_SAMPLES = {{ (samples or [])|tojson }};
        </script>

        {% include "_topbar.html" %}

        <main class="page">
            {% block content %}{% endblock %}
        </main>

        <!-- Global Scripts -->
        <script>
            const y = document.getElementById("year");
            if (y) y.textContent = String(new Date().getFullYear());
        </script>

        <script src="{{ url_for('static', filename='js/nav.js') }}"></script>

        {% block scripts %}{% endblock %}

    </body>
</html>